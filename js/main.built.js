/* Zepto v1.0rc1 - polyfill zepto event detect fx ajax form touch - zeptojs.com/license */

/*!
 Lo-Dash 0.8.2 lodash.com/license
 Underscore.js 1.4.2 underscorejs.org/LICENSE
*/

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*!
 Face Value | https://github.com/tofumatt/face-value
*/

(function(root){var amdExports;define("zepto",[],function(){return function(){(function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===e&&(Array.prototype.reduce=function(t){if(this===void 0||this===null)throw new TypeError;var n=Object(this),r=n.length>>>0,i=0,s;if(typeof t!="function")throw new TypeError;if(r==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)s=arguments[1];else do{if(i in n){s=n[i++];break}if(++i>=r)throw new TypeError}while(!0);while(i<r)i in n&&(s=t.call(e,s,n[i],i,n)),i++;return s})})();var Zepto=function(){function C(e){return E.call(e)=="[object Function]"}function k(e){return e instanceof Object}function L(t){var n,r;if(E.call(t)!=="[object Object]")return!1;r=C(t.constructor)&&t.constructor.prototype;if(!r||!hasOwnProperty.call(r,"isPrototypeOf"))return!1;for(n in t);return n===e||hasOwnProperty.call(t,n)}function A(e){return e instanceof Array}function O(e){return typeof e.length=="number"}function M(t){return t.filter(function(t){return t!==e&&t!==null})}function _(e){return e.length>0?[].concat.apply([],e):e}function D(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function P(e){return e in a?a[e]:a[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function H(e,t){return typeof t=="number"&&!l[D(e)]?t+"px":t}function B(e){var t,n;return u[e]||(t=o.createElement(e),o.body.appendChild(t),n=f(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),n=="none"&&(n="block"),u[e]=n),u[e]}function j(t,r){return r===e?n(t):n(t).filter(r)}function F(e,t,n,r){return C(t)?t.call(e,n,r):t}function I(e,t,r){var i=e%2?t:t.parentNode;i?i.insertBefore(r,e?e==1?i.firstChild:e==2?t:null:t.nextSibling):n(r).remove()}function q(e,t){t(e);for(var n in e.childNodes)q(e.childNodes[n],t)}var e,t,n,r,i=[],s=i.slice,o=window.document,u={},a={},f=o.defaultView.getComputedStyle,l={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},c=/^\s*<(\w+|!)[^>]*>/,h=[1,3,8,9,11],p=["after","prepend","before","append"],d=o.createElement("table"),v=o.createElement("tr"),m={tr:o.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:v,th:v,"*":o.createElement("div")},g=/complete|loaded|interactive/,y=/^\.([\w-]+)$/,b=/^#([\w-]+)$/,w=/^[\w-]+$/,E={}.toString,S={},x,T,N=o.createElement("div");return S.matches=function(e,t){if(!e||e.nodeType!==1)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=N).appendChild(e),r=~S.qsa(i,t).indexOf(e),s&&N.removeChild(e),r},x=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(e){return e.filter(function(t,n){return e.indexOf(t)==n})},S.fragment=function(t,r){r===e&&(r=c.test(t)&&RegExp.$1),r in m||(r="*");var i=m[r];return i.innerHTML=""+t,n.each(s.call(i.childNodes),function(){i.removeChild(this)})},S.Z=function(e,t){return e=e||[],e.__proto__=arguments.callee.prototype,e.selector=t||"",e},S.isZ=function(e){return e instanceof S.Z},S.init=function(t,r){if(!t)return S.Z();if(C(t))return n(o).ready(t);if(S.isZ(t))return t;var i;if(A(t))i=M(t);else if(L(t))i=[n.extend({},t)],t=null;else if(h.indexOf(t.nodeType)>=0||t===window)i=[t],t=null;else if(c.test(t))i=S.fragment(t.trim(),RegExp.$1),t=null;else{if(r!==e)return n(r).find(t);i=S.qsa(o,t)}return S.Z(i,t)},n=function(e,t){return S.init(e,t)},n.extend=function(n){return s.call(arguments,1).forEach(function(r){for(t in r)r[t]!==e&&(n[t]=r[t])}),n},S.qsa=function(e,t){var n;return e===o&&b.test(t)?(n=e.getElementById(RegExp.$1))?[n]:i:e.nodeType!==1&&e.nodeType!==9?i:s.call(y.test(t)?e.getElementsByClassName(RegExp.$1):w.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},n.isFunction=C,n.isObject=k,n.isArray=A,n.isPlainObject=L,n.inArray=function(e,t,n){return i.indexOf.call(t,e,n)},n.trim=function(e){return e.trim()},n.uuid=0,n.map=function(e,t){var n,r=[],i,s;if(O(e))for(i=0;i<e.length;i++)n=t(e[i],i),n!=null&&r.push(n);else for(s in e)n=t(e[s],s),n!=null&&r.push(n);return _(r)},n.each=function(e,t){var n,r;if(O(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},n.fn={forEach:i.forEach,reduce:i.reduce,push:i.push,indexOf:i.indexOf,concat:i.concat,map:function(e){return n.map(this,function(t,n){return e.call(t,n,t)})},slice:function(){return n(s.apply(this,arguments))},ready:function(e){return g.test(o.readyState)?e(n):o.addEventListener("DOMContentLoaded",function(){e(n)},!1),this},get:function(t){return t===e?s.call(this):this[t]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(e){return this.forEach(function(t,n){e.call(t,n,t)}),this},filter:function(e){return n([].filter.call(this,function(t){return S.matches(t,e)}))},add:function(e,t){return n(T(this.concat(n(e,t))))},is:function(e){return this.length>0&&S.matches(this[0],e)},not:function(t){var r=[];if(C(t)&&t.call!==e)this.each(function(e){t.call(this,e)||r.push(this)});else{var i=typeof t=="string"?this.filter(t):O(t)&&C(t.item)?s.call(t):n(t);this.forEach(function(e){i.indexOf(e)<0&&r.push(e)})}return n(r)},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!k(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!k(e)?e:n(e)},find:function(e){var t;return this.length==1?t=S.qsa(this[0],e):t=this.map(function(){return S.qsa(this,e)}),n(t)},closest:function(e,t){var r=this[0];while(r&&!S.matches(r,e))r=r!==t&&r!==o&&r.parentNode;return n(r)},parents:function(e){var t=[],r=this;while(r.length>0)r=n.map(r,function(e){if((e=e.parentNode)&&e!==o&&t.indexOf(e)<0)return t.push(e),e});return j(t,e)},parent:function(e){return j(T(this.pluck("parentNode")),e)},children:function(e){return j(this.map(function(){return s.call(this.children)}),e)},siblings:function(e){return j(this.map(function(e,t){return s.call(t.parentNode.children).filter(function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return this.map(function(){return this[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),f(this,"").getPropertyValue("display")=="none"&&(this.style.display=B(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return this.each(function(){n(this).wrapAll(n(e)[0].cloneNode(!1))})},wrapAll:function(e){return this[0]&&(n(this[0]).before(e=n(e)),e.append(this)),this},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return n(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return(t===e?this.css("display")=="none":t)?this.show():this.hide()},prev:function(){return n(this.pluck("previousElementSibling"))},next:function(){return n(this.pluck("nextElementSibling"))},html:function(t){return t===e?this.length>0?this[0].innerHTML:null:this.each(function(e){var r=this.innerHTML;n(this).empty().append(F(this,t,e,r))})},text:function(t){return t===e?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(n,r){var i;return typeof n=="string"&&r===e?this.length==0||this[0].nodeType!==1?e:n=="value"&&this[0].nodeName=="INPUT"?this.val():!(i=this[0].getAttribute(n))&&n in this[0]?this[0][n]:i:this.each(function(e){if(this.nodeType!==1)return;if(k(n))for(t in n)this.setAttribute(t,n[t]);else this.setAttribute(n,F(this,r,e,this.getAttribute(n)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&this.removeAttribute(e)})},prop:function(t,n){return n===e?this[0]?this[0][t]:e:this.each(function(e){this[t]=F(this,n,e,this[t])})},data:function(t,n){var r=this.attr("data-"+D(t),n);return r!==null?r:e},val:function(t){return t===e?this.length>0?this[0].value:e:this.each(function(e){this.value=F(this,t,e,this.value)})},offset:function(){if(this.length==0)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}},css:function(n,r){if(r===e&&typeof n=="string")return this.length==0?e:this[0].style[x(n)]||f(this[0],"").getPropertyValue(n);var i="";for(t in n)typeof n[t]=="string"&&n[t]==""?this.each(function(){this.style.removeProperty(D(t))}):i+=D(t)+":"+H(t,n[t])+";";return typeof n=="string"&&(r==""?this.each(function(){this.style.removeProperty(D(n))}):i=D(n)+":"+H(n,r)),this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return this.length<1?!1:P(e).test(this[0].className)},addClass:function(e){return this.each(function(t){r=[];var i=this.className,s=F(this,e,t,i);s.split(/\s+/g).forEach(function(e){n(this).hasClass(e)||r.push(e)},this),r.length&&(this.className+=(i?" ":"")+r.join(" "))})},removeClass:function(t){return this.each(function(n){if(t===e)return this.className="";r=this.className,F(this,t,n,r).split(/\s+/g).forEach(function(e){r=r.replace(P(e)," ")}),this.className=r.trim()})},toggleClass:function(t,r){return this.each(function(i){var s=F(this,t,i,this.className);(r===e?!n(this).hasClass(s):r)?n(this).addClass(s):n(this).removeClass(s)})}},["width","height"].forEach(function(t){n.fn[t]=function(r){var i,s=t.replace(/./,function(e){return e[0].toUpperCase()});return r===e?this[0]==window?window["inner"+s]:this[0]==o?o.documentElement["offset"+s]:(i=this.offset())&&i[t]:this.each(function(e){var i=n(this);i.css(t,F(this,r,e,i[t]()))})}}),p.forEach(function(e,t){n.fn[e]=function(){var e=n.map(arguments,function(e){return k(e)?e:S.fragment(e)});if(e.length<1)return this;var r=this.length,i=r>1,s=t<2;return this.each(function(n,o){for(var u=0;u<e.length;u++){var a=e[s?e.length-u-1:u];q(a,function(e){e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript")&&window.eval.call(window,e.innerHTML)}),i&&n<r-1&&(a=a.cloneNode(!0)),I(t,o,a)}})},n.fn[t%2?e+"To":"insert"+(t?"Before":"After")]=function(t){return n(t)[e](this),this}}),S.Z.prototype=n.fn,S.camelize=x,S.uniq=T,n.zepto=S,n}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(e){function s(e){return e._zid||(e._zid=r++)}function o(e,t,r,i){t=u(t);if(t.ns)var o=a(t.ns);return(n[s(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||o.test(e.ns))&&(!r||s(e.fn)===s(r))&&(!i||e.sel==i)})}function u(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function a(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function f(t,n,r){e.isObject(t)?e.each(t,r):t.split(/\s/).forEach(function(e){r(e,n)})}function l(t,r,i,o,a,l){l=!!l;var c=s(t),h=n[c]||(n[c]=[]);f(r,i,function(n,r){var i=a&&a(r,n),s=i||r,f=function(e){var n=s.apply(t,[e].concat(e.data));return n===!1&&e.preventDefault(),n},c=e.extend(u(n),{fn:r,proxy:f,sel:o,del:i,i:h.length});h.push(c),t.addEventListener(c.e,f,l)})}function c(e,t,r,i){var u=s(e);f(t||"",r,function(t,r){o(e,t,r,i).forEach(function(t){delete n[u][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function v(t){var n=e.extend({originalEvent:t},t);return e.each(d,function(e,r){n[e]=function(){return this[r]=h,t[e].apply(t,arguments)},n[r]=p}),n}function m(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=!0,t.call(this)}}}var t=e.zepto.qsa,n={},r=1,i={};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",e.event={add:l,remove:c},e.proxy=function(t,n){if(e.isFunction(t)){var r=function(){return t.apply(n,arguments)};return r._zid=s(t),r}if(typeof n=="string")return e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){l(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){c(this,e,t)})},e.fn.one=function(e,t){return this.each(function(n,r){l(this,e,t,null,function(e,t){return function(){var n=e.apply(r,arguments);return c(r,t,e),n}})})};var h=function(){return!0},p=function(){return!1},d={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,n,r){var i=!1;if(n=="blur"||n=="focus")e.iswebkit?n=n=="blur"?"focusout":n=="focus"?"focusin":n:i=!0;return this.each(function(s,o){l(o,n,r,t,function(n){return function(r){var i,s=e(r.target).closest(t,o).get(0);if(s)return i=e.extend(v(r),{currentTarget:s,liveFired:o}),n.apply(s,[i].concat([].slice.call(arguments,1)))}},i)})},e.fn.undelegate=function(e,t,n){return this.each(function(){c(this,t,n,e)})},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r){return n==undefined||e.isFunction(n)?this.bind(t,n):this.delegate(n,t,r)},e.fn.off=function(t,n,r){return n==undefined||e.isFunction(n)?this.unbind(t,n):this.undelegate(n,t,r)},e.fn.trigger=function(t,n){return typeof t=="string"&&(t=e.Event(t)),m(t),t.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(t)})},e.fn.triggerHandler=function(t,n){var r,i;return this.each(function(s,u){r=v(typeof t=="string"?e.Event(t):t),r.data=n,r.target=u,e.each(o(u,t.type||t),function(e,t){i=t.proxy(r);if(r.isImmediatePropagationStopped())return!1})}),i},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){if(e)this.bind(t,e);else if(this.length)try{this.get(0)[t]()}catch(n){}return this}}),e.Event=function(e,t){var n=document.createEvent(i[e]||"Events"),r=!0;if(t)for(var s in t)s=="bubbles"?r=!!t[s]:n[s]=t[s];return n.initEvent(e,r,!0,null,null,null,null,null,null,null,null,null,null,null,null),n}}(Zepto),function(e){function t(e){var t=this.os={},n=this.browser={},r=e.match(/WebKit\/([\d.]+)/),i=e.match(/(Android)\s+([\d.]+)/),s=e.match(/(iPad).*OS\s([\d_]+)/),o=!s&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),a=u&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),l=e.match(/Silk\/([\d._]+)/),c=e.match(/(BlackBerry).*Version\/([\d.]+)/);if(n.webkit=!!r)n.version=r[1];i&&(t.android=!0,t.version=i[2]),o&&(t.ios=t.iphone=!0,t.version=o[2].replace(/_/g,".")),s&&(t.ios=t.ipad=!0,t.version=s[2].replace(/_/g,".")),u&&(t.webos=!0,t.version=u[2]),a&&(t.touchpad=!0),c&&(t.blackberry=!0,t.version=c[2]),f&&(t.kindle=!0,t.version=f[1]),l&&(n.silk=!0,n.version=l[1]),!l&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0)}t.call(e,navigator.userAgent),e.__detect=t}(Zepto),function(e,t){function c(e){return e.toLowerCase()}function h(e){return r?r+e:c(e)}var n="",r,i,s,o={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},u=window.document,a=u.createElement("div"),f=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,l={};e.each(o,function(e,i){if(a.style[e+"TransitionProperty"]!==t)return n="-"+c(e)+"-",r=i,!1}),l[n+"transition-property"]=l[n+"transition-duration"]=l[n+"transition-timing-function"]=l[n+"animation-name"]=l[n+"animation-duration"]="",e.fx={off:r===t&&a.style.transitionProperty===t,cssPrefix:n,transitionEnd:h("TransitionEnd"),animationEnd:h("AnimationEnd")},e.fn.animate=function(t,n,r,i){return e.isObject(n)&&(r=n.easing,i=n.complete,n=n.duration),n&&(n/=1e3),this.anim(t,n,r,i)},e.fn.anim=function(r,i,s,o){var u,a={},c,h=this,p,d=e.fx.transitionEnd;i===t&&(i=.4),e.fx.off&&(i=0);if(typeof r=="string")a[n+"animation-name"]=r,a[n+"animation-duration"]=i+"s",d=e.fx.animationEnd;else{for(c in r)f.test(c)?(u||(u=[]),u.push(c+"("+r[c]+")")):a[c]=r[c];u&&(a[n+"transform"]=u.join(" ")),!e.fx.off&&typeof r=="object"&&(a[n+"transition-property"]=Object.keys(r).join(", "),a[n+"transition-duration"]=i+"s",a[n+"transition-timing-function"]=s||"linear")}return p=function(t){if(typeof t!="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(d,arguments.callee)}e(this).css(l),o&&o.call(this)},i>0&&this.bind(d,p),setTimeout(function(){h.css(a),i<=0&&setTimeout(function(){h.each(function(){p.call(this)})},0)},0),this},a=null}(Zepto),function($){function triggerAndReturn(e,t,n){var r=$.Event(t);return $(e).trigger(r,n),!r.defaultPrevented}function triggerGlobal(e,t,n,r){if(e.global)return triggerAndReturn(t||document,n,r)}function ajaxStart(e){e.global&&$.active++===0&&triggerGlobal(e,null,"ajaxStart")}function ajaxStop(e){e.global&&!--$.active&&triggerGlobal(e,null,"ajaxStop")}function ajaxBeforeSend(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===!1||triggerGlobal(t,n,"ajaxBeforeSend",[e,t])===!1)return!1;triggerGlobal(t,n,"ajaxSend",[e,t])}function ajaxSuccess(e,t,n){var r=n.context,i="success";n.success.call(r,e,i,t),triggerGlobal(n,r,"ajaxSuccess",[t,n,e]),ajaxComplete(i,t,n)}function ajaxError(e,t,n,r){var i=r.context;r.error.call(i,n,t,e),triggerGlobal(r,i,"ajaxError",[n,r,e]),ajaxComplete(t,n,r)}function ajaxComplete(e,t,n){var r=n.context;n.complete.call(r,t,e),triggerGlobal(n,r,"ajaxComplete",[t,n]),ajaxStop(n)}function empty(){}function mimeToDataType(e){return e&&(e==htmlType?"html":e==jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"}function appendQuery(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function serializeData(e){isObject(e.data)&&(e.data=$.param(e.data)),e.data&&(!e.type||e.type.toUpperCase()=="GET")&&(e.url=appendQuery(e.url,e.data))}function serialize(e,t,n,r){var i=$.isArray(t);$.each(t,function(t,s){r&&(t=n?r:r+"["+(i?"":t)+"]"),!r&&i?e.add(s.name,s.value):(n?$.isArray(s):isObject(s))?serialize(e,s,n,t):e.add(t,s)})}var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0,$.ajaxJSONP=function(e){var t="jsonp"+ ++jsonpID,n=document.createElement("script"),r=function(){$(n).remove(),t in window&&(window[t]=empty),ajaxComplete("abort",i,e)},i={abort:r},s;return e.error&&(n.onerror=function(){i.abort(),e.error()}),window[t]=function(r){clearTimeout(s),$(n).remove(),delete window[t],ajaxSuccess(r,i,e)},serializeData(e),n.src=e.url.replace(/=\?/,"="+t),$("head").append(n),e.timeout>0&&(s=setTimeout(function(){i.abort(),ajaxComplete("timeout",i,e)},e.timeout)),i},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0},$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host);var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,"callback=?")),$.ajaxJSONP(settings);settings.url||(settings.url=window.location.toString()),serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;settings.crossDomain||(baseHeaders["X-Requested-With"]="XMLHttpRequest"),mime&&(baseHeaders.Accept=mime,mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime));if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{}),xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else ajaxError(null,"error",xhr,settings)}};var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);return ajaxBeforeSend(xhr,settings)===!1?(xhr.abort(),!1):(settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr)},$.get=function(e,t){return $.ajax({url:e,success:t})},$.post=function(e,t,n,r){return $.isFunction(t)&&(r=r||n,n=t,t=null),$.ajax({type:"POST",url:e,data:t,success:n,dataType:r})},$.getJSON=function(e,t){return $.ajax({url:e,success:t,dataType:"json"})},$.fn.load=function(e,t){if(!this.length)return this;var n=this,r=e.split(/\s/),i;return r.length>1&&(e=r[0],i=r[1]),$.get(e,function(e){n.html(i?$(document.createElement("div")).html(e.replace(rscript,"")).find(i).html():e),t&&t.call(n)}),this};var escape=encodeURIComponent;$.param=function(e,t){var n=[];return n.add=function(e,t){this.push(escape(e)+"="+escape(t))},serialize(n,e,t),n.join("&").replace("%20","+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t=[],n;return e(Array.prototype.slice.call(this.get(0).elements)).each(function(){n=e(this);var r=n.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&r!="submit"&&r!="reset"&&r!="button"&&(r!="radio"&&r!="checkbox"||this.checked)&&t.push({name:n.attr("name"),value:n.val()})}),t},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(e){function r(e){return"tagName"in e?e:e.parentNode}function i(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function u(){o=null,t.last&&(t.el.trigger("longTap"),t={})}function a(){o&&clearTimeout(o),o=null}var t={},n,s=750,o;e(document).ready(function(){var f,l;e(document.body).bind("touchstart",function(i){f=Date.now(),l=f-(t.last||f),t.el=e(r(i.touches[0].target)),n&&clearTimeout(n),t.x1=i.touches[0].pageX,t.y1=i.touches[0].pageY,l>0&&l<=250&&(t.isDoubleTap=!0),t.last=f,o=setTimeout(u,s)}).bind("touchmove",function(e){a(),t.x2=e.touches[0].pageX,t.y2=e.touches[0].pageY}).bind("touchend",function(e){a(),t.isDoubleTap?(t.el.trigger("doubleTap"),t={}):t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30?(t.el.trigger("swipe")&&t.el.trigger("swipe"+i(t.x1,t.x2,t.y1,t.y2)),t={}):"last"in t&&(t.el.trigger("tap"),n=setTimeout(function(){n=null,t.el.trigger("singleTap"),t={}},250))}).bind("touchcancel",function(){n&&clearTimeout(n),o&&clearTimeout(o),o=n=null,t={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(Zepto),amdExports=Zepto}.call(root),amdExports})})(this),define("currency-data",["zepto"],function(e){function i(e){return e.resource.fields.name.split("/")[1]}function s(e){return parseFloat(e.resource.fields.price)}function o(n){e.ajax({dataType:"jsonp",url:t,success:function(e){e.list.resources.forEach(function(e){i(e)&&(r[i(e)]=s(e))}),n(r)}})}var t="http://finance.yahoo.com/webservice/v1/symbols/allcurrencies/quote?format=json&callback=?",n="USD",r={};return r[n]=1,{REFERENCE_CURRENCY:n,update:o}}),function(e,t){function n(e){if(e&&e.__wrapped__)return e;if(!(this instanceof n))return new n(e);this.__wrapped__=e}function r(e,t,n){t||(t=0);var r=e.length,i=r-t>=(n||H),s=i?{}:e;if(i)for(n=t-1;++n<r;){var o=e[n]+"";(Z.call(s,o)?s[o]:s[o]=[]).push(e[n])}return function(e){if(i){var n=e+"";return Z.call(s,n)&&-1<E(s[n],e)}return-1<E(s,e,t)}}function i(e,n){var r=e.b,i=n.b,e=e.a,n=n.a;if(e!==n){if(e>n||e===t)return 1;if(e<n||n===t)return-1}return r<i?-1:1}function s(e,t,n){function r(){var u=arguments,a=s?this:t;return i||(e=t[o]),n.length&&(u=u.length?n.concat(nt.call(u)):n),this instanceof r?(l.prototype=e.prototype,a=new l,(u=e.apply(a,u))&&Ht[typeof u]?u:a):e.apply(a,u)}var i=p(e),s=!n,o=e;return s&&(n=t),r}function o(e,n){return e?"function"!=typeof e?function(t){return t[e]}:n!==t?function(t,r,i){return e.call(n,t,r,i)}:e:C}function u(){for(var e={e:"",g:Et,i:"",j:Mt,m:Tt,n:kt,o:J,p:"",q:L,r:_t,c:{d:""},l:{d:""}},t,n=-1;t=arguments[++n];)for(var r in t){var s=t[r];/d|h/.test(r)?("string"==typeof s&&(s={b:s,k:s}),e.c[r]=s.b,e.l[r]=s.k):e[r]=s}t=e.a;if("d"!=(e.f=/^[^,]+/.exec(t)[0])||!e.c.h)e.c=A;n="",e.r&&(n+=""),n+="var i,A,j="+e.f+",t="+(e.i||e.f)+";if(!"+e.f+")return t;"+e.p+";",e.c&&(n+="var k=j.length;i=-1;",e.l&&(n+="if(k===+k){"),e.n&&(n+="if(y.call(j)==w){j=j.split('')}"),n+=e.c.d+";while(++i<k){A=j[i];"+e.c.h+"}",e.l&&(n+="}"));if(e.l){e.c?n+="else {":e.m&&(n+="var k=j.length;i=-1;if(k&&O(j)){while(++i<k){A=j[i+=''];"+e.l.h+"}}else {"),e.g||(n+="var u=typeof j=='function'&&q.call(j,'prototype');");if(e.j&&e.q)n+="var n=-1,o=Y[typeof j]?l(j):[],k=o.length;"+e.l.d+";while(++n<k){i=o[n];",e.g||(n+="if(!(u&&i=='prototype')){"),n+="A=j[i];"+e.l.h+"",e.g||(n+="}");else{n+=e.l.d+";for(i in j){";if(!e.g||e.q)n+="if(",e.g||(n+="!(u&&i=='prototype')"),!e.g&&e.q&&(n+="&&"),e.q&&(n+="h.call(j,i)"),n+="){";n+="A=j[i];"+e.l.h+";";if(!e.g||e.q)n+="}"}n+="}";if(e.g){n+="var g=j.constructor;";for(r=0;7>r;r++)n+="i='"+e.o[r]+"';if(","constructor"==e.o[r]&&(n+="!(g&&g.prototype===j)&&"),n+="h.call(j,i)){A=j[i];"+e.l.h+"}"}if(e.c||e.m)n+="}"}return n+=e.e+";return t",Function("D,E,F,I,e,f,J,h,M,O,Q,S,T,X,Y,l,q,v,w,y,z","var G=function("+t+"){"+n+"};return G")(Dt,_,N,i,Q,o,en,Z,E,h,$t,p,Jt,mt,Ht,ut,tt,nt,yt,rt)}function a(e){return"\\"+Bt[e]}function f(e){return Qt[e]}function l(){}function c(e){return Gt[e]}function h(e){return rt.call(e)==ct}function p(e){return"function"==typeof e}function d(e){var t=O;if(!e||"object"!=typeof e||h(e))return t;var n=e.constructor;return(!Lt||"function"==typeof e.toString||"string"!=typeof (e+""))&&(!p(n)||n instanceof n)?xt?(en(e,function(e,n,r){return t=!Z.call(r,n),O}),t===O):(en(e,function(e,n){t=n}),t===O||Z.call(e,t)):t}function v(e,t,n,r,i){if(e==A)return e;n&&(t=O);if(n=Ht[typeof e]){var s=rt.call(e);if(!Pt[s]||Nt&&h(e))return e;var o=s==ht,n=o||(s==mt?Jt(e):n)}if(!n||!t)return n?o?nt.call(e):Zt({},e):e;n=e.constructor;switch(s){case pt:case dt:return new n(+e);case vt:case yt:return new n(e);case gt:return n(e.source,U.exec(e))}r||(r=[]),i||(i=[]);for(s=r.length;s--;)if(r[s]==e)return i[s];var u=o?n(e.length):{};return r.push(e),i.push(u),(o?mn:tn)(e,function(e,n){u[n]=v(e,t,A,r,i)}),u}function m(e,t,n,r){if(e==A||t==A)return e===t;if(e===t)return 0!==e||1/e==1/t;if(Ht[typeof e]||Ht[typeof t])e=e.__wrapped__||e,t=t.__wrapped__||t;var i=rt.call(e);if(i!=rt.call(t))return O;switch(i){case pt:case dt:return+e==+t;case vt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case gt:case yt:return e==t+""}var s=Dt[i];if(Nt&&!s&&(s=h(e))&&!h(t)||!s&&(i!=mt||Lt&&("function"!=typeof e.toString&&"string"==typeof (e+"")||"function"!=typeof t.toString&&"string"==typeof (t+""))))return O;n||(n=[]),r||(r=[]);for(i=n.length;i--;)if(n[i]==e)return r[i]==t;var i=-1,o=L,u=0;n.push(e),r.push(t);if(s){u=e.length;if(o=u==t.length)for(;u--&&(o=m(e[u],t[u],n,r)););return o}s=e.constructor,o=t.constructor;if(s!=o&&(!p(s)||!(s instanceof s&&p(o)&&o instanceof o)))return O;for(var a in e)if(Z.call(e,a)&&(u++,!Z.call(t,a)||!m(e[a],t[a],n,r)))return O;for(a in t)if(Z.call(t,a)&&!(u--))return O;if(Et)for(;7>++i;)if(a=J[i],Z.call(e,a)&&(!Z.call(t,a)||!m(e[a],t[a],n,r)))return O;return L}function g(e,t,n){var r=-Infinity,i=-1,s=e?e.length:0,u=r;if(t||s!==+s)t=o(t,n),mn(e,function(e,n,i){n=t(e,n,i),n>r&&(r=n,u=e)});else for(;++i<s;)e[i]>u&&(u=e[i]);return u}function y(e,t,n,r){var i=e,s=e?e.length:0,o=3>arguments.length;if(s!==+s)var u=sn(e),s=u.length;else kt&&rt.call(e)==yt&&(i=e.split(""));return mn(e,function(e,a,f){a=u?u[--s]:--s,n=o?(o=O,i[a]):t.call(r,n,i[a],a,f)}),n}function b(e,t,n){if(e)return t==A||n?e[0]:nt.call(e,0,t)}function w(e,t){for(var n=-1,r=e?e.length:0,i=[];++n<r;){var s=e[n];$t(s)?et.apply(i,t?s:w(s)):i.push(s)}return i}function E(e,t,n){var r=-1,i=e?e.length:0;if("number"==typeof n)r=(0>n?at(0,i+n):n||0)-1;else if(n)return r=x(e,t),e[r]===t?r:-1;for(;++r<i;)if(e[r]===t)return r;return-1}function S(e,t,n){return e?nt.call(e,t==A||n?1:t):[]}function x(e,t,n,r){var i=0,s=e?e.length:i;if(n){n=o(n,r);for(t=n(t);i<s;)r=i+s>>>1,n(e[r])<t?i=r+1:s=r}else for(;i<s;)r=i+s>>>1,e[r]<t?i=r+1:s=r;return i}function T(e,t,n,r){var i=-1,s=e?e.length:0,u=[],a=[];"function"==typeof t&&(r=n,n=t,t=O);for(n=o(n,r);++i<s;)if(r=n(e[i],i,e),t?!i||a[a.length-1]!==r:0>E(a,r))a.push(r),u.push(e[i]);return u}function N(e,t){return Ot||it&&2<arguments.length?it.call.apply(it,arguments):s(e,t,nt.call(arguments,2))}function C(e){return e}function k(e){mn(nn(e),function(t){var r=n[t]=e[t];n.prototype[t]=function(){var e=[this.__wrapped__];return arguments.length&&et.apply(e,arguments),e=r.apply(n,e),this.__chain__&&(e=new n(e),e.__chain__=L),e}})}var L=!0,A=null,O=!1,M="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(e=global),exports),_=Array.prototype,D=Object.prototype,P=0,H=30,B=e._,j=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,F=/&(?:amp|lt|gt|quot|#x27);/g,I=/\b__p\+='';/g,q=/\b(__p\+=)''\+/g,R=/(__e\(.*?\)|\b__t\))\+'';/g,U=/\w*$/,z=/(?:__e|__t=)\(\s*(?![\d\s"']|this\.)/g,W=RegExp("^"+(D.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),X=/($^)/,V=/[&<>"']/g,$=/['\n\r\t\u2028\u2029\\]/g,J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),K=Math.ceil,Q=_.concat,G=Math.floor,Y=W.test(Y=Object.getPrototypeOf)&&Y,Z=D.hasOwnProperty,et=_.push,tt=D.propertyIsEnumerable,nt=_.slice,rt=D.toString,it=W.test(it=nt.bind)&&it,st=W.test(st=Array.isArray)&&st,ot=e.isFinite,ut=W.test(ut=Object.keys)&&ut,at=Math.max,ft=Math.min,lt=Math.random,ct="[object Arguments]",ht="[object Array]",pt="[object Boolean]",dt="[object Date]",vt="[object Number]",mt="[object Object]",gt="[object RegExp]",yt="[object String]",bt=e.clearTimeout,wt=e.setTimeout,Et,St,xt,Tt=L;(function(){function e(){this.x=1}var t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var r in new e)n.push(r);for(r in arguments)Tt=!r;Et=4>(n+"").length,xt="x"!=n[0],St=(n.splice.call(t,0,1),t[0])})(1);var Nt=!h(arguments),Ct="x"!=nt.call("x")[0],kt="xx"!="x"[0]+Object("x")[0];try{var Lt=("[object Object]",rt.call(e.document||0)==mt)}catch(At){}var Ot=it&&/\n|Opera/.test(it+rt.call(e.opera)),Mt=ut&&/^.+$|true/.test(ut+!!e.attachEvent),_t=!Ot,Dt={};Dt[pt]=Dt[dt]=Dt["[object Function]"]=Dt[vt]=Dt[mt]=Dt[gt]=O,Dt[ct]=Dt[ht]=Dt[yt]=L;var Pt={};Pt[ct]=Pt["[object Function]"]=O,Pt[ht]=Pt[pt]=Pt[dt]=Pt[vt]=Pt[mt]=Pt[gt]=Pt[yt]=L;var Ht={"boolean":O,"function":L,object:L,number:O,string:O,"undefined":O,unknown:L},Bt={"\\":"\\","'":"'","\n":"n","\r":"r"," ":"t","\u2028":"u2028","\u2029":"u2029"};n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""};var jt={a:"d,c,x",p:"c=f(c,x)",h:"if(c(A,i,d)===false)return t"},Ft={i:"{}",p:"c=f(c,x)",h:"var p=c(A,i,d);(h.call(t,p)?t[p]++:t[p]=1)"},It={i:"true",h:"if(!c(A,i,d))return!t"},qt={q:O,r:O,a:"m",p:"for(var a=1,b=arguments.length;a<b;a++){if(j=arguments[a]){",h:"t[i]=A",e:"}}"},Rt={i:"[]",h:"c(A,i,d)&&t.push(A)"},Ut={p:"c=f(c,x)"},zt={h:{k:jt.h}},Wt={i:"d||[]",d:{b:"t=Array(k)",k:"t="+(Mt?"Array(k)":"[]")},h:{b:"t[i]=c(A,i,d)",k:"t"+(Mt?"[n]=":".push")+"(c(A,i,d))"}},Xt={q:O,a:"m,c,x",i:"{}",p:"var R=typeof c=='function';if(R)c=f(c,x);else var s=e.apply(E,arguments)",h:"if(R?!c(A,i,m):M(s,i)<0)t[i]=A"},Vt=u({a:"m",i:"{}",h:"t[A]=i"});Nt&&(h=function(e){return e?Z.call(e,"callee"):O});var $t=st||function(e){return rt.call(e)==ht};p(/x/)&&(p=function(e){return"[object Function]"==rt.call(e)});var Jt=Y?function(e){if(!e||"object"!=typeof e)return O;var t=e.valueOf,n="function"==typeof t&&(n=Y(t))&&Y(n);return n?e==n||Y(e)==n&&!h(e):d(e)}:d,Kt=u({a:"m",i:"[]",h:"t.push(i)"}),Qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Gt=Vt(Qt),Yt=u(qt,{h:"if(t[i]==null)"+qt.h}),Zt=u(qt),en=u(jt,Ut,zt,{q:O}),tn=u(jt,Ut,zt),nn=u({q:O,a:"m",i:"[]",h:"S(A)&&t.push(i)",e:"t.sort()"}),rn=u({a:"A",i:"true",p:"var H=y.call(A),k=A.length;if(D[H]"+(Nt?"||O(A)":"")+"||(H==X&&k===+k&&S(A.splice)))return!k",h:{k:"return false"}}),sn=ut?function(e){var t=typeof e;return"function"==t&&tt.call(e,"prototype")?Kt(e):e&&Ht[t]?ut(e):[]}:Kt,on=u(qt,{a:"m,dd,N",p:"var P,C=arguments,a=0;if(N==I){var b=2,ee=C[3],ff=C[4]}else var b=C.length,ee=[],ff=[];while(++a<b){if(j=C[a]){",h:"if((dd=A)&&((P=Q(dd))||T(dd))){var K=false,gg=ee.length;while(gg--)if(K=ee[gg]==dd)break;if(K){t[i]=ff[gg]}else {ee.push(dd);ff.push(A=(A=t[i],P)?(Q(A)?A:[]):(T(A)?A:{}));t[i]=G(A,dd,I,ee,ff)}}else if(dd!=null)t[i]=dd"}),un=u(Xt),an=u({a:"m",i:"[]",h:"t"+(Mt?"[n]=":".push")+"([i,A])"}),fn=u(Xt,{p:"if(typeof c!='function'){var i=0,s=e.apply(E,arguments),k=s.length;while(++i<k){var p=s[i];if(p in m)t[p]=m[p]}}else {c=f(c,x)",h:"if(c(A,i,m))t[i]=A",e:"}"}),ln=u({a:"m",i:"[]",h:"t.push(A)"}),cn=u({a:"d,hh",i:"false",n:O,d:{b:"if(y.call(d)==w)return d.indexOf(hh)>-1"},h:"if(A===hh)return true"}),hn=u(jt,Ft),pn=u(jt,It),dn=u(jt,Rt),vn=u(jt,Ut,{i:"z",h:"if(c(A,i,d))return A"}),mn=u(jt,Ut),gn=u(jt,Ft,{h:"var p=c(A,i,d);(h.call(t,p)?t[p]:t[p]=[]).push(A)"}),yn=u(Wt,{a:"d,U",p:"var C=v.call(arguments,2),R=typeof U=='function'",h:{b:"t[i]=(R?U:A[U]).apply(A,C)",k:"t"+(Mt?"[n]=":".push")+"((R?U:A[U]).apply(A,C))"}}),bn=u(jt,Wt),wn=u(Wt,{a:"d,bb",h:{b:"t[i]=A[bb]",k:"t"+(Mt?"[n]=":".push")+"(A[bb])"}}),En=u({a:"d,c,B,x",i:"B",p:"var V=arguments.length<3;c=f(c,x)",d:{b:"if(V)t=j[++i]"},h:{b:"t=c(t,A,i,d)",k:"t=V?(V=false,A):c(t,A,i,d)"}}),Sn=u(jt,Rt,{h:"!"+Rt.h}),xn=u(jt,It,{i:"false",h:It.h.replace("!","")}),Tn=u(jt,Ft,Wt,{h:{b:"t[i]={a:c(A,i,d),b:i,c:A}",k:"t"+(Mt?"[n]=":".push")+"({a:c(A,i,d),b:i,c:A})"},e:"t.sort(I);k=t.length;while(k--)t[k]=t[k].c"}),Nn=u(Rt,{a:"d,aa",p:"var s=[];J(aa,function(A,p){s.push(p)});var cc=s.length",h:"for(var Z=true,r=0;r<cc;r++){var p=s[r];if(!(Z=A[p]===aa[p]))break}Z&&t.push(A)"}),Cn=u({q:O,r:O,a:"m",p:"var L=arguments,i=0,k=L.length;if(k>1){while(++i<k)t[L[i]]=F(t[L[i]],t);return t}",h:"if(S(A))t[i]=F(A,t)"});n.VERSION="0.8.2",n.after=function(e,t){return 1>e?t():function(){if(1>--e)return t.apply(this,arguments)}},n.bind=N,n.bindAll=Cn,n.chain=function(e){return e=new n(e),e.__chain__=L,e},n.clone=v,n.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r},n.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},n.contains=cn,n.countBy=hn,n.debounce=function(e,t,n){function r(){u=A,n||(s=e.apply(o,i))}var i,s,o,u;return function(){var a=n&&!u;return i=arguments,o=this,bt(u),u=wt(r,t),a&&(s=e.apply(o,i)),s}},n.defaults=Yt,n.defer=function(e){var n=nt.call(arguments,1);return wt(function(){return e.apply(t,n)},1)},n.delay=function(e,n){var r=nt.call(arguments,2);return wt(function(){return e.apply(t,r)},n)},n.difference=function(e){var t=[];if(!e)return t;for(var n=-1,i=e.length,s=Q.apply(_,arguments),s=r(s,i);++n<i;){var o=e[n];s(o)||t.push(o)}return t},n.escape=function(e){return e==A?"":(e+"").replace(V,f)},n.every=pn,n.extend=Zt,n.filter=dn,n.find=vn,n.first=b,n.flatten=w,n.forEach=mn,n.forIn=en,n.forOwn=tn,n.functions=nn,n.groupBy=gn,n.has=function(e,t){return e?Z.call(e,t):O},n.identity=C,n.indexOf=E,n.initial=function(e,t,n){return e?nt.call(e,0,-(t==A||n?1:t)):[]},n.intersection=function(e){var t=arguments.length,n=[],i=-1,s=e?e.length:0,o=[];e:for(;++i<s;){var u=e[i];if(0>E(o,u)){for(var a=1;a<t;a++)if(!(n[a]||(n[a]=r(arguments[a])))(u))continue e;o.push(u)}}return o},n.invert=Vt,n.invoke=yn,n.isArguments=h,n.isArray=$t,n.isBoolean=function(e){return e===L||e===O||rt.call(e)==pt},n.isDate=function(e){return rt.call(e)==dt},n.isElement=function(e){return e?1===e.nodeType:O},n.isEmpty=rn,n.isEqual=m,n.isFinite=function(e){return ot(e)&&rt.call(e)==vt},n.isFunction=p,n.isNaN=function(e){return rt.call(e)==vt&&e!=+e},n.isNull=function(e){return e===A},n.isNumber=function(e){return rt.call(e)==vt},n.isObject=function(e){return e?Ht[typeof e]:O},n.isPlainObject=Jt,n.isRegExp=function(e){return rt.call(e)==gt},n.isString=function(e){return rt.call(e)==yt},n.isUndefined=function(e){return e===t},n.keys=sn,n.last=function(e,t,n){if(e){var r=e.length;return t==A||n?e[r-1]:nt.call(e,-t||r)}},n.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?at(0,r+n):ft(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},n.lateBind=function(e,t){return s(t,e,nt.call(arguments,2))},n.map=bn,n.max=g,n.memoize=function(e,t){var n={};return function(){var r=t?t.apply(this,arguments):arguments[0];return Z.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},n.merge=on,n.min=function(e,t,n){var r=Infinity,i=-1,s=e?e.length:0,u=r;if(t||s!==+s)t=o(t,n),mn(e,function(e,n,i){n=t(e,n,i),n<r&&(r=n,u=e)});else for(;++i<s;)e[i]<u&&(u=e[i]);return u},n.mixin=k,n.noConflict=function(){return e._=B,this},n.object=function(e,t){for(var n=-1,r=e?e.length:0,i={};++n<r;){var s=e[n];t?i[s]=t[n]:i[s[0]]=s[1]}return i},n.omit=un,n.once=function(e){var t,n=O;return function(){return n?t:(n=L,t=e.apply(this,arguments),e=A,t)}},n.pairs=an,n.partial=function(e){return s(e,nt.call(arguments,1))},n.pick=fn,n.pluck=wn,n.random=function(e,t){return e==A&&t==A&&(t=1),e=+e||0,t==A&&(t=e,e=0),e+G(lt()*((+t||0)-e+1))},n.range=function(e,t,n){e=+e||0,n=+n||1,t==A&&(t=e,e=0);for(var r=-1,t=at(0,K((t-e)/n)),i=Array(t);++r<t;)i[r]=e,e+=n;return i},n.reduce=En,n.reduceRight=y,n.reject=Sn,n.rest=S,n.result=function(e,t){var n=e?e[t]:A;return p(n)?e[t]():n},n.shuffle=function(e){var t=-1,n=Array(e?e.length:0);return mn(e,function(e){var r=G(lt()*(++t+1));n[t]=n[r],n[r]=e}),n},n.size=function(e){var t=e?e.length:0;return t===+t?t:sn(e).length},n.some=xn,n.sortBy=Tn,n.sortedIndex=x,n.tap=function(e,t){return t(e),e},n.template=function(e,t,r){e||(e=""),r||(r={});var i,s,o=0,u=n.templateSettings,f="__p += '",l=r.variable||u.variable,c=l;e.replace(RegExp((r.escape||u.escape||X).source+"|"+(r.interpolate||u.interpolate||X).source+"|"+(r.evaluate||u.evaluate||X).source+"|$","g"),function(t,n,r,s,u){f+=e.slice(o,u).replace($,a),f+=n?"'+__e("+n+")+'":s?"';"+s+";__p+='":r?"'+((__t=("+r+"))==null?'':__t)+'":"",i||(i=s||j.test(n||r)),o=u+t.length}),f+="';",c||(l="obj",i?f="with("+l+"){"+f+"}":(r=RegExp("(\\(\\s*)"+l+"\\."+l+"\\b","g"),f=f.replace(z,"$&"+l+".").replace(r,"$1__d"))),f=(i?f.replace(I,""):f).replace(q,"$1").replace(R,"$1;"),f="function("+l+"){"+(c?"":l+"||("+l+"={});")+"var __t,__p='',__e=_.escape"+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":(c?"":",__d="+l+"."+l+"||"+l)+";")+f+"return __p}";try{s=Function("_","return "+f)(n)}catch(h){throw h.source=f,h}return t?s(t):(s.source=f,s)},n.throttle=function(e,t){function n(){u=new Date,o=A,i=e.apply(s,r)}var r,i,s,o,u=0;return function(){var a=new Date,f=t-(a-u);return r=arguments,s=this,0>=f?(bt(o),u=a,i=e.apply(s,r)):o||(o=wt(n,f)),i}},n.times=function(e,t,n){for(var e=+e||0,r=-1,i=Array(e);++r<e;)i[r]=t.call(n,r);return i},n.toArray=function(e){if(!e)return[];var t=e.length;return t===+t?(Ct?rt.call(e)==yt:"string"==typeof e)?e.split(""):nt.call(e):ln(e)},n.unescape=function(e){return e==A?"":(e+"").replace(F,c)},n.union=function(){for(var e=-1,t=Q.apply(_,arguments),n=t.length,r=[];++e<n;){var i=t[e];0>E(r,i)&&r.push(i)}return r},n.uniq=T,n.uniqueId=function(e){var t=P++;return e?e+t:t},n.values=ln,n.where=Nn,n.without=function(e){for(var t=-1,n=e?e.length:0,i=r(arguments,1,20),s=[];++t<n;){var o=e[t];i(o)||s.push(o)}return s},n.wrap=function(e,t){return function(){var n=[e];return arguments.length&&et.apply(n,arguments),t.apply(this,n)}},n.zip=function(e){for(var t=-1,n=e?g(wn(arguments,"length")):0,r=Array(n);++t<n;)r[t]=wn(arguments,t);return r},n.all=pn,n.any=xn,n.collect=bn,n.detect=vn,n.drop=S,n.each=mn,n.foldl=En,n.foldr=y,n.head=b,n.include=cn,n.inject=En,n.methods=nn,n.select=dn,n.tail=S,n.take=b,n.unique=T,k(n),n.prototype.chain=function(){return this.__chain__=L,this},n.prototype.value=function(){return this.__wrapped__},mn("pop push reverse shift sort splice unshift".split(" "),function(e){var t=_[e];n.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),St&&e.length===0&&delete e[0],this.__chain__&&(e=new n(e),e.__chain__=L),e}}),mn(["concat","join","slice"],function(e){var t=_[e];n.prototype[e]=function(){var e=t.apply(this.__wrapped__,arguments);return this.__chain__&&(e=new n(e),e.__chain__=L),e}}),typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e._=n,define("underscore",[],function(){return n})):M?"object"==typeof module&&module&&module.exports==M?(module.exports=n)._=n:M._=n:e._=n}(this),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&typeof require!="undefined"&&(s=require("underscore")),i.setDomLibrary=function(e){$=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var o=/\s+/,u=i.Events={on:function(e,t,n){var r,i,s,u,a;if(!t)return this;e=e.split(o),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=u={},s.context=n,s.callback=t,r[i]={tail:u,next:a?a.next:s};return this},off:function(e,t,n){var r,i,u,a,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(o):s.keys(i);while(r=e.shift()){u=i[r],delete i[r];if(!u||!t&&!n)continue;a=u.tail;while((u=u.next)!==a)f=u.callback,l=u.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,u,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(o),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,u=[t].concat(f);while((r=r.next)!==s)r.callback.apply(r.context||this,u)}}return this}};u.bind=u.on,u.unbind=u.off;var a=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=N(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(a.prototype,u,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof a&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},f=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(f[i],o)||n.unset&&s.has(f,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete f[i]:f[i]=o,!s.isEqual(c[i],o)||s.has(f,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=N(this,"urlRoot")||N(this.collection,"url")||C();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var f=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(f.prototype,u,{model:a,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof a)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var l=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(l,function(e){f.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var c=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,p=/\*\w+/g,d=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(c.prototype,u,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new v),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(d,"\\$&").replace(h,"([^/]+)").replace(p,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var v=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},m=/^[#\/]/,g=/msie [\w.]+/;v.started=!1,s.extend(v.prototype,u,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(m,"")},start:function(e){if(v.started)throw new Error("Backbone.history has already been started");v.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=g.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,o=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&o&&i.hash&&(this.fragment=this.getHash().replace(m,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!v.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(m,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var y=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];s.extend(y.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&$(r).attr(t),n&&$(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof $?e:$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=N(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(b),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=w.length;t<n;t++){var r=w[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=N(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var E=function(e,t){var n=T(this,e,t);return n.extend=this.extend,n};a.extend=f.extend=c.extend=y.extend=E;var S={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=S[e];n||(n={});var o={type:r,dataType:"json"};return n.url||(o.url=N(t,"url")||C()),!n.data&&t&&(e=="create"||e=="update")&&(o.contentType="application/json",o.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(i.emulateJSON&&(o.data._method=r),o.type="POST",o.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),$.ajax(s.extend(o,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var x=function(){},T=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},s.extend(r,e),x.prototype=e.prototype,r.prototype=new x,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},N=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},C=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","zepto"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),define("localstorage",["underscore","backbone"],function(e,t){function n(){return((1+Math.random())*65536|0).toString(16).substring(1)}function r(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}var i=function(e){this.name=e;var t=localStorage.getItem(this.name);this.data=t&&JSON.parse(t)||{}};return e.extend(i.prototype,{save:function(){localStorage.setItem(this.name,JSON.stringify(this.data))},create:function(e){return e.id||(e.id=e.attributes.id=r()),this.data[e.id]=e,this.save(),e},update:function(e){return this.data[e.id]=e,this.save(),e},find:function(e){return this.data[e.id]},findAll:function(){return e.values(this.data)},destroy:function(e){return delete this.data[e.id],this.save(),e}}),t.sync=function(e,t,n){var r,i=t.localStorage||t.collection.localStorage;switch(e){case"read":r=t.id?i.find(t):i.findAll();break;case"create":r=i.create(t);break;case"update":r=i.update(t);break;case"delete":r=i.destroy(t)}r?n.success(r):n.error("Record not found")},i}),define("models/currency",["underscore","backbone","collections/denominations"],function(e,t,n){var r=t.Model.extend({defaults:{code:"???",coins:[],fraction:"cent",fractionSymbol:"",fractionSymbolAfter:!0,name:"Unknown Dollar",notes:[],pluralName:"Unknown Dollars",range:null,whole:"dollar",wholeSymbol:"$",wholeSymbolAfter:!1,worth:undefined},coins:function(){return n.where({code:this.model.get("code"),type:"coin"})},notes:function(){return n.where({code:this.model.get("code"),type:"note"})}});return r}),define("models/denomination",["underscore","backbone","require","currency-data","models/currency"],function(e,t,n,r,i){var s=2,o=t.Model.extend({defaults:{currencyCode:undefined,type:undefined,value:undefined},currency:function(){var e=n("collections/currencies");return e.where({code:this.get("currencyCode")})[0]},valueFormatted:function(){return this.get("value")<1?this.get("value").toFixed(s).toString().replace(/0\.0?(\d{1,2})/g,"$1"):this.get("value")},worthIn:function(e){var t=n("collections/currencies"),i;return e instanceof String&&(e=t.where({code:e})[0]),this.get("currencyCode")===r.REFERENCE_CURRENCY&&(i=this.get("value")*e.get("worth")),e.get("code")===r.REFERENCE_CURRENCY&&(i=this.get("value")*(1/e.get("worth"))),i=this.get("value")*e.get("worth")*(1/this.currency().get("worth")),e.get("fraction")&&!e.get("dontUseFraction")?i.toFixed(s)>0?i.toFixed(s):.01:Math.round(i)>0?Math.round(i):1}});return o}),define("collections/denominations",["underscore","backbone","localstorage","models/denomination"],function(e,t,n,r){var i=t.Collection.extend({model:r,localStorage:new n("Denominations"),comparator:function(e){return e.get("value")},deleteAll:function(){this.models.forEach(function(e){e.destroy()}),this.reset()}});return new i}),define("collections/currencies",["underscore","backbone","localstorage","collections/denominations","models/currency"],function(e,t,n,r,i){var s=t.Collection.extend({model:i,localStorage:new n("Currencies"),comparator:function(e){return e.get("name")},coins:function(e,t){return r.where({currencyCode:e,type:"coin"})},deleteAll:function(){this.models.forEach(function(e){e.destroy()}),this.reset()},denominations:function(e,t){return r.where({currencyCode:e}).filter(function(e){return t===undefined&&(t=e.currency().get("range")),e.get("value")>=t[0]&&e.get("value")<=t[1]})},notes:function(e,t){return r.where({currencyCode:e,type:"notes"})}});return new s}),define("app",["zepto","currency-data","collections/currencies","collections/denominations","models/currency","models/denomination"],function(e,t,n,r,i,s){function a(i){o.HAS.nativeScroll&&e("body").addClass("native-scroll"),f(),window.applicationCache.addEventListener("cached",function(){f(),window.location.reload()}),window.applicationCache.addEventListener("updateready",function(){f(),window.location.reload()}),l("cacheReady")?e("body").removeClass("cache-loading"):e("#loading-text").animate({opacity:1}),n.fetch({success:function(){r.fetch({success:function(){l("foreignCurrency")||h("foreignCurrency",o.DEFAULT_FOREIGN_CURRENCY),l("homeCurrency")||h("homeCurrency",o.DEFAULT_HOME_CURRENCY),!l("lastTimeCurrencyDataUpdated")||p()-l("lastTimeCurrencyDataUpdated")>o.TIME_TO_UPDATE?t.update(function(e){h("worth",e),c(i)}):i()}})}})}function f(){e("body").removeClass("cache-loading"),h("cacheReady",!0)}function l(e,t){return u[e]!==undefined?u[e]:window.localStorage[e]!==undefined?(u[e]=JSON.parse(window.localStorage[e]),u[e]):t}function c(t){e.ajax({url:"denominations.json",dataType:"json",success:function(e){d(e),t()},error:function(){t()}})}function h(e,t){return window.localStorage[e]=JSON.stringify(t),u[e]=t}function p(e){return e||(e=new Date),Math.round(e.getTime()/1e3)}function d(e){for(var t in e){var o=n.where({code:t})[0];o||(o=new i({code:t}),n.add(o)),o.set(_.pick(e[t],"dontUseFraction","fraction","fractionSymbol","fractionSymbolAfter","name","pluralName","range","whole","wholeSymbol","wholeSymbolAfter")),o.set({worth:l("worth")[t]}),o.save()}n.each(function(t){_(["coins","notes"]).each(function(n){for(var i in e[t.get("code")][n]){var o=r.where({currencyCode:t.get("code"),value:parseFloat(_.keys(e[t.get("code")][n][i])[0]),type:n.slice(0,-1)})[0];o?o.set({style:_.values(e[t.get("code")][n][i])[0]}):(o=new s({currencyCode:t.get("code"),style:_.values(e[t.get("code")][n][i])[0],type:n.slice(0,-1),value:parseFloat(_.keys(e[t.get("code")][n][i])[0])}),r.add(o)),o.save()}})}),h("lastTimeCurrencyDataUpdated",p())}window._faceValueDataCache||(window._faceValueDataCache={});var o={DEFAULT_FOREIGN_CURRENCY:"EUR",DEFAULT_HOME_CURRENCY:"USD",HAS:{nativeScroll:function(){return"WebkitOverflowScrolling"in window.document.createElement("div").style}()},TIME_TO_UPDATE:86400},u=window._faceValueDataCache;return _(o).extend({get:l,initialize:a,set:h,timestamp:p,updateCurrencyData:d})}),define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.3",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+"."+s.ext,h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.moduleName+"."+o.ext,a=r.toUrl(o.moduleName+"."+o.ext)+".js";t.load(u,r,function(n){var r=function(e){return i(a,e)};r.asModule=function(e,t){return i.asModule(e,a,t)},t.write(e,u,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r){var i=t.createXhr();i.open("GET",e,!0),c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(t){var s,o;i.readyState===4&&(s=i.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=i,r(o)):n(i.responseText))},i.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t}),define("text!templates/currencies/controls.ejs",[],function(){return'<div id="currency-selector">\n  <div class="row">\n    <div class="col span_1">\n      <a href="#foreign-currency" class="select-currency" data-currency="foreign"><%= foreignCurrency.get(\'code\') %></a>\n    </div>\n    <div class="col span_1">\n      <a href="#home-currency" class="select-currency" data-currency="home"><%= homeCurrency.get(\'code\') %></a>\n    </div>\n  </div>\n</div>\n'}),define("text!templates/currencies/list_item.ejs",[],function(){return"<a href=\"#/convert/<%= first.get('code') %>-<%= second.get('code') %>\"\n   class=\"change-currency\" data-currency=\"<%= currency.get('code') %>\">\n  <%= currency.get('name') %>\n</a>\n"}),define("views/currencies",["app","zepto","underscore","backbone","collections/currencies","models/currency","text!templates/currencies/controls.ejs","text!templates/currencies/list_item.ejs"],function(e,t,n,r,i,s,o,u){var a=r.View.extend({el:"#controls",$el:t("#controls"),tagName:"div",template:n.template(o),events:{"click .select-currency":"selectCurrency"},initialize:function(){t(".currency-list-selector").on("click",this.closeSelection),this.render()},render:function(){return this.$el.html(this.template({foreignCurrency:this.options.currencies.foreign,homeCurrency:this.options.currencies.home})),this},closeSelection:function(e){var n=e.originalTarget||e.target;t(n).hasClass("change-currency")||(t(".currency-list-selector").addClass("hide"),e.preventDefault())},selectCurrency:function(e){t("#{currency}-select".format({currency:t(e.target).data("currency")})).removeClass("hide"),e.preventDefault()}}),f=r.View.extend({model:s,tagName:"li",template:n.template(u),events:{"click .change-currency":"changeCurrency"},attributes:function(){return{"class":"flag {code}-flag".format({code:this.model.get("code")}),"data-currency":this.model.get("code")}},initialize:function(){},render:function(){return this.$el.html(this.template({currency:this.model,first:this.options.currencies.first,second:this.options.currencies.second})),this},changeCurrency:function(e){t(".currency-list-selector").addClass("hide")}});return{Controls:a,ListItem:f}}),define("text!templates/denominations/show.ejs",[],function(){return"<div class=\"<%= denomination.get('style') %> <%= denomination.get('type') %>\">\n  <div class=\"color <%= denomination.get('style') %>\"></div>\n  <div class=\"inner\"><% if ((denomination.get('value') < 1 && !currency.get('fractionSymbolAfter')) || (denomination.get('value') >= 1 && !currency.get('wholeSymbolAfter'))) { %><span class=\"symbol\"><%= denomination.get('value') < 1 ? currency.get('fractionSymbol') : currency.get('wholeSymbol') %></span><% } %><% if (denomination.get('value') < 1) { %><span class=\"fraction\"><% } %><%= denomination.valueFormatted() %><% if (denomination.get('value') < 1) { %></span><% } %><% if ((denomination.get('value') < 1 && currency.get('fractionSymbolAfter')) || (denomination.get('value') >= 1 && currency.get('wholeSymbolAfter'))) { %><span class=\"symbol\"><%= denomination.get('value') < 1 ? currency.get('fractionSymbol') : currency.get('wholeSymbol') %></span><% } %>\n  </div>\n</div>\n\n<div class=\"subtitle\"><% if ((denomination.worthIn(homeCurrency) < 1 && !homeCurrency.get('fractionSymbolAfter')) || (denomination.worthIn(homeCurrency) >= 1 && !homeCurrency.get('wholeSymbolAfter'))) { %><span class=\"symbol\"><%= denomination.worthIn(homeCurrency) < 1 ? homeCurrency.get('fractionSymbol') : homeCurrency.get('wholeSymbol') %></span><% } %><%= denomination.worthIn(homeCurrency).toString().replace(/^0\\.0?/, '') %><% if ((denomination.worthIn(homeCurrency) < 1 && homeCurrency.get('fractionSymbolAfter')) || (denomination.worthIn(homeCurrency) >= 1 && homeCurrency.get('wholeSymbolAfter'))) { %><span class=\"symbol\"><%= denomination.worthIn(homeCurrency) < 1 ? homeCurrency.get('fractionSymbol') : homeCurrency.get('wholeSymbol') %></span><% } %></div>\n</div>\n"}),define("views/denominations",["app","zepto","underscore","backbone","collections/currencies","models/denomination","text!templates/denominations/show.ejs"],function(e,t,n,r,i,s,o){var u=r.View.extend({className:"denomination col span_1",model:s,template:n.template(o),events:{},initialize:function(){this.model.on("change",this.render,this)},render:function(){return this.$el.html(this.template({currency:this.model.currency(),denomination:this.model,homeCurrency:i.where({code:e.get("homeCurrency")})[0]})),this}});return u}),define("text!templates/app/header.ejs",[],function(){return'<a id="currency-switcher" href="#/convert/<%= homeCurrency.get(\'code\') %>-<%= foreignCurrency.get(\'code\') %>">\n  <span class="off-screen"><%= foreignCurrency.get(\'code\') %> &lt;=&gt; <%= homeCurrency.get(\'code\') %></span>\n</a>\n\n<div id="currency-info">\n  <div class="regular">\n    What are my <a href="#foreign-currency" class="select-currency" data-currency="foreign"><%= foreignCurrency.get(\'pluralName\') %></a>\n    <br>\n    worth in <a href="#home-currency" class="select-currency" data-currency="home"><%= homeCurrency.get(\'pluralName\') %></a>?\n  </div>\n  <div class="small">\n    <strong><%= foreignCurrency.get(\'code\') %></strong> &gt; <strong><%= homeCurrency.get(\'code\') %></strong>\n  </div>\n</div>\n'}),define("views/app",["zepto","underscore","backbone","app","collections/currencies","collections/denominations","views/currencies","views/denominations","text!templates/app/header.ejs"],function(e,t,n,r,i,s,o,u,a){var f=n.View.extend({el:"#denominations",$el:e("#denominations"),events:{},initialize:function(){r.set("homeCurrency",this.options.homeCurrency),r.set("foreignCurrency",this.options.foreignCurrency),this.header=new l,this.render()},render:function(){var e=this;return this.header.render(),this.renderControls(),this.removeAllDenominations(),s.fetch({success:function(){i.denominations(r.get("foreignCurrency")).forEach(function(t){e.addOne(t)})}}),this},addOne:function(t){var n=new u({model:t});e("#{type}s .denomination-list".format({type:t.get("type")})).append(n.render().el);var r=n.$el.find(".inner")[0],i=r.offsetWidth,s=r.parentNode.offsetWidth,o=Math.min(1,(s-25)/i);r.style.transform="translate(-50%, -50%) scale("+o+")",r.style.MozTransform="translate(-50%, -50%) scale("+o+")",r.style.WebkitTransform="translate(-50%, -50%) scale("+o+")"},removeAllDenominations:function(t){e(".denomination").remove()},addToCurrencySelectors:function(t){var n=i.where({code:r.get("foreignCurrency")})[0],s=i.where({code:r.get("homeCurrency")})[0],u=new o.ListItem({currencies:{first:t,second:s.get("code")===t.get("code")?n:s},model:t});e("#foreign-select ul").append(u.render().el);var a=new o.ListItem({currencies:{first:n.get("code")===t.get("code")?s:n,second:t},model:t});e("#home-select ul").append(a.render().el)},renderControls:function(){e(".currency-list-selector li").remove(),this.controls=new o.Controls({currencies:{foreign:i.where({code:r.get("foreignCurrency")})[0],home:i.where({code:r.get("homeCurrency")})[0]}});var t=this;i.fetch({success:function(e){e.forEach(function(e){t.addToCurrencySelectors(e)})}})}}),l=n.View.extend({el:"#header",$el:e("#header"),tagName:"div",template:t.template(a),events:{"click .select-currency":"selectCurrency"},initialize:function(){e(".currency-list-selector").on("click",this.closeSelection),this.render()},render:function(){return this.$el.html(this.template({foreignCurrency:i.where({code:r.get("foreignCurrency")})[0],homeCurrency:i.where({code:r.get("homeCurrency")})[0]})).removeClass().addClass("{code}-flag".format({code:i.where({code:r.get("foreignCurrency")})[0].get("code")})),this},closeSelection:function(t){var n=t.originalTarget||t.target;e(n).hasClass("change-currency")||(e(".currency-list-selector").addClass("hide"),t.preventDefault())},selectCurrency:function(t){e("#{currency}-select".format({currency:e(t.target).data("currency")})).removeClass("hide"),t.preventDefault()}});return{AppView:f,HeaderView:l}}),define("routers/app",["zepto","backbone","app","collections/denominations","views/app"],function(e,t,n,r,i){var s=t.Router.extend({routes:{"convert/:foreignCurrency-:homeCurrency":"convert","":"index"},initialize:function(){return this},convert:function(e,t){var n=new i.AppView({foreignCurrency:e,homeCurrency:t})},index:function(){this.navigate("convert/{foreign}-{home}".format({foreign:n.get("foreignCurrency"),home:n.get("homeCurrency")}),{trigger:!0})}});return s}),require.config({paths:{backbone:"lib/backbone",localstorage:"lib/backbone.localstorage",text:"lib/require.text",underscore:"lib/lodash",zepto:"lib/zepto"},shim:{backbone:{deps:["underscore","zepto"],exports:"Backbone"},underscore:{exports:"_"},zepto:{exports:"Zepto"}}}),require(["app","routers/app"],function(e,t){function n(){var n={foreign:e.get("foreignCurrency"),home:e.get("homeCurrency")},r=new t;Backbone.history.start(),r.navigate("convert/{foreign}-{home}".format(n),{trigger:!0})}e.initialize(n)}),define("main",function(){});